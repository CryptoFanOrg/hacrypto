<html>
<head>
<!--
     Copyright (c) 1998-2014 The OpenSSL Project, http://www.openssl.org/
     Author:   OpenSSL (openssl@openssl.org)
     Modified: 2014-07-03 05:00:12.
     Generated from ``SSL_CONF_cmd.wml'' via WML 2.0.11 (19-Aug-2006).
               by OpenSSL (openssl@openssl.org)
               on 2014-07-03 05:01:57.

     DO NOT EDIT THIS FILE DIRECTLY! INSTEAD EDIT ``SSL_CONF_cmd.wml''.
-->
<meta name="Copyright" content="1998-2014 The OpenSSL Project, http://www.openssl.org/">
<meta name="Author"    content="OpenSSL, openssl@openssl.org">
<meta name="Generator" content="WML 2.0.11 (19-Aug-2006)">
<meta name="Modified"  content="2014-07-03 05:00:12">
<title>OpenSSL: Documents, SSL_CONF_cmd(3)</title>
<style type="text/css"><!--
BODY { position: absolute; left: 0px; top: 0px; background: #666699; }
A { text-decoration: none; font-weight: bold; }
A:link { text-decoration: none; font-weight: bold; color: #666699; }
A:visited { text-decoration: none; font-weight: bold; color: #666699; }
A:hover { text-decoration: none; font-weight: bold; color: #666699; text-decoration: underline; }
#red { color: #cc3333; }
#sf { font-family: arial,helvetica; font-variant: normal; font-style: normal; }
#sfl { font-weight: bold; font-family: arial,helvetica; font-size: 16pt; line-height: 16pt; font-variant: normal; font-style: normal; }
H1 { font-weight: bold; font-size: 18pt; line-height: 18pt; font-family: arial,helvetica; font-variant: normal; font-style: normal; }
H2 { font-weight: bold; font-size: 14pt; line-height: 14pt; font-family: arial,helvetica; font-variant: normal; font-style: normal; }
H3 { font-weight: bold; font-size: 12pt; line-height: 12pt; font-family: arial,helvetica; font-variant: normal; font-style: normal; }
--></style>
</head>
<body link="#6666cc" alink="#6666cc" vlink="#6666cc" bgcolor="#666699" text="#000000"
      marginheight="0" leftmargin="0" rightmargin="0" topmargin="0">
<table width="100%" cellspacing="0" cellpadding="0" border="0" summary="">
  <tr><td align="left" width="100" bgcolor="#666699"><img src="../../images/page-head-tl.jpg" alt="OpenSSL" width="100" height="80"></td><td align="left" colspan="2" width="600" bgcolor="#666699"><img src="../../images/page-head-tm.jpg" alt="" width="600" height="80"></td><td align="right" width="20" bgcolor="#666699">&nbsp;&nbsp;&nbsp;</td><td align="right" width="50" bgcolor="#666699">&nbsp;</td></tr>
  <tr><td align="left" width="100"><img src="../../images/page-head-bl.jpg" alt="" width="100" height="20"></td><td align="left" width="20"><img src="../../images/page-head-bm.jpg" alt="" width="20" height="20"></td><td align="left" width="100%" bgcolor="#ffffff">
<table cellspacing="0" cellpadding="0" border="0" summary="">
        <tr>
<td><font face="Arial,Helvetica">&nbsp;<a href="../index.html" onmouseover="self.status = '../'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../'; return true" onblur="self.status = ''; return true"><font color="#666666">Documents</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="../apps/openssl.html" onmouseover="self.status = '../apps/openssl.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../apps/openssl.html'; return true" onblur="self.status = ''; return true"><font color="#666666">openssl(1)</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="ssl.html" onmouseover="self.status = '../ssl/ssl.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../ssl/ssl.html'; return true" onblur="self.status = ''; return true"><font color="#666666">ssl(3)</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="../crypto/crypto.html" onmouseover="self.status = '../crypto/crypto.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../crypto/crypto.html'; return true" onblur="self.status = ''; return true"><font color="#666666">crypto(3)</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="../HOWTO/index.html" onmouseover="self.status = '../HOWTO/'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../HOWTO/'; return true" onblur="self.status = ''; return true"><font color="#666666">HOWTO</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="http://wiki.openssl.org/" onmouseover="self.status = 'http://wiki.openssl.org/'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = 'http://wiki.openssl.org/'; return true" onblur="self.status = ''; return true"><font color="#666666">Wiki</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="../fips/index.html" onmouseover="self.status = '../fips/'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../fips/'; return true" onblur="self.status = ''; return true"><font color="#666666">FIPS140</font></a></font>&nbsp;</td><td>|</td>
<td><font face="Arial,Helvetica">&nbsp;<a href="../misc/index.html" onmouseover="self.status = '../misc/'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../misc/'; return true" onblur="self.status = ''; return true"><font color="#666666">misc</font></a></font>&nbsp;</td><td></td>
</tr>
      </table>
</td><td align="right" width="20"><img src="../../images/page-corner-tr.gif" alt="" width="20" height="20"></td><td align="right" width="50" bgcolor="#666699">&nbsp;</td></tr>
  <tr><td align="left" valign="top" width="100" bgcolor="#666699"><table cellspacing="0" cellpadding="0" border="0" summary=""><tr><td><img src="../../images/page-navbar-top.jpg" alt="" width="100" height="11"></td></tr>
<script type="text/javascript" language="JavaScript">
<!-- Hiding the code
function nb_imgNormal(imgName) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_n.src');
        self.status = '';
    }
}
function nb_imgSelect(imgName) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_s.src');
        self.status = '';
    }
}
function nb_imgOver(imgName, nohints, descript) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_o.src');
        if (! nohints) self.status = descript;
    }
}
// done hiding -->
</script>
<script type="text/javascript" language="JavaScript">
<!-- Hiding the code
if (document.images) {
    nb_img1_title_n = new Image();
    nb_img1_title_n.src = '../../images/page-navbar-ti-n.jpg';
    nb_img1_title_o = new Image();
    nb_img1_title_o.src = '../../images/page-navbar-ti-s.jpg';
    nb_img1_FAQ_n = new Image();
    nb_img1_FAQ_n.src = '../../images/page-navbar-fq-n.jpg';
    nb_img1_FAQ_o = new Image();
    nb_img1_FAQ_o.src = '../../images/page-navbar-fq-s.jpg';
    nb_img1_about_n = new Image();
    nb_img1_about_n.src = '../../images/page-navbar-ab-n.jpg';
    nb_img1_about_o = new Image();
    nb_img1_about_o.src = '../../images/page-navbar-ab-s.jpg';
    nb_img1_news_n = new Image();
    nb_img1_news_n.src = '../../images/page-navbar-ne-n.jpg';
    nb_img1_news_o = new Image();
    nb_img1_news_o.src = '../../images/page-navbar-ne-s.jpg';
    nb_img1_docs_s = new Image();
    nb_img1_docs_s.src = '../../images/page-navbar-do-s.jpg';
    nb_img1_docs_o = new Image();
    nb_img1_docs_o.src = '../../images/page-navbar-do-s.jpg';
    nb_img1_source_n = new Image();
    nb_img1_source_n.src = '../../images/page-navbar-so-n.jpg';
    nb_img1_source_o = new Image();
    nb_img1_source_o.src = '../../images/page-navbar-so-s.jpg';
    nb_img1_contrib_n = new Image();
    nb_img1_contrib_n.src = '../../images/page-navbar-co-n.jpg';
    nb_img1_contrib_o = new Image();
    nb_img1_contrib_o.src = '../../images/page-navbar-co-s.jpg';
    nb_img1_support_n = new Image();
    nb_img1_support_n.src = '../../images/page-navbar-su-n.jpg';
    nb_img1_support_o = new Image();
    nb_img1_support_o.src = '../../images/page-navbar-su-s.jpg';
    nb_img1_related_n = new Image();
    nb_img1_related_n.src = '../../images/page-navbar-re-n.jpg';
    nb_img1_related_o = new Image();
    nb_img1_related_o.src = '../../images/page-navbar-re-s.jpg';
}
// done hiding -->
</script>
<tr><td><a href="../../index.html" onmouseover="nb_imgOver('nb_img1_title', 0, 'Title'); return true" onmouseout="nb_imgNormal('nb_img1_title'); return true" onfocus="nb_imgOver('nb_img1_title', 0, 'Title'); return true" onblur="nb_imgNormal('nb_img1_title'); return true"><img name="nb_img1_title" src="../../images/page-navbar-ti-n.jpg" alt="Title" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../support/faq.html" onmouseover="nb_imgOver('nb_img1_FAQ', 0, 'FAQ'); return true" onmouseout="nb_imgNormal('nb_img1_FAQ'); return true" onfocus="nb_imgOver('nb_img1_FAQ', 0, 'FAQ'); return true" onblur="nb_imgNormal('nb_img1_FAQ'); return true"><img name="nb_img1_FAQ" src="../../images/page-navbar-fq-n.jpg" alt="FAQ" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../about/index.html" onmouseover="nb_imgOver('nb_img1_about', 0, 'About'); return true" onmouseout="nb_imgNormal('nb_img1_about'); return true" onfocus="nb_imgOver('nb_img1_about', 0, 'About'); return true" onblur="nb_imgNormal('nb_img1_about'); return true"><img name="nb_img1_about" src="../../images/page-navbar-ab-n.jpg" alt="About" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../news/index.html" onmouseover="nb_imgOver('nb_img1_news', 0, 'News'); return true" onmouseout="nb_imgNormal('nb_img1_news'); return true" onfocus="nb_imgOver('nb_img1_news', 0, 'News'); return true" onblur="nb_imgNormal('nb_img1_news'); return true"><img name="nb_img1_news" src="../../images/page-navbar-ne-n.jpg" alt="News" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../index.html" onmouseover="nb_imgOver('nb_img1_docs', 0, 'Documents'); return true" onmouseout="nb_imgSelect('nb_img1_docs'); return true" onfocus="nb_imgOver('nb_img1_docs', 0, 'Documents'); return true" onblur="nb_imgSelect('nb_img1_docs'); return true"><img name="nb_img1_docs" src="../../images/page-navbar-do-s.jpg" alt="Documents" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../source/index.html" onmouseover="nb_imgOver('nb_img1_source', 0, 'Source'); return true" onmouseout="nb_imgNormal('nb_img1_source'); return true" onfocus="nb_imgOver('nb_img1_source', 0, 'Source'); return true" onblur="nb_imgNormal('nb_img1_source'); return true"><img name="nb_img1_source" src="../../images/page-navbar-so-n.jpg" alt="Source" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../contrib/index.html" onmouseover="nb_imgOver('nb_img1_contrib', 0, 'Contribution'); return true" onmouseout="nb_imgNormal('nb_img1_contrib'); return true" onfocus="nb_imgOver('nb_img1_contrib', 0, 'Contribution'); return true" onblur="nb_imgNormal('nb_img1_contrib'); return true"><img name="nb_img1_contrib" src="../../images/page-navbar-co-n.jpg" alt="Contribution" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../support/index.html" onmouseover="nb_imgOver('nb_img1_support', 0, 'Support'); return true" onmouseout="nb_imgNormal('nb_img1_support'); return true" onfocus="nb_imgOver('nb_img1_support', 0, 'Support'); return true" onblur="nb_imgNormal('nb_img1_support'); return true"><img name="nb_img1_support" src="../../images/page-navbar-su-n.jpg" alt="Support" border="0" width="100" height="27"></a></td></tr>
<tr><td><a href="../../related/index.html" onmouseover="nb_imgOver('nb_img1_related', 0, 'Related'); return true" onmouseout="nb_imgNormal('nb_img1_related'); return true" onfocus="nb_imgOver('nb_img1_related', 0, 'Related'); return true" onblur="nb_imgNormal('nb_img1_related'); return true"><img name="nb_img1_related" src="../../images/page-navbar-re-n.jpg" alt="Related" border="0" width="100" height="27"></a></td></tr>
    <tr><td><img src="../../images/page-navbar-bot.jpg" alt="" width="100" height="150"><br><p></td></tr>
  </table>
</td><td align="left" valign="top" width="20" bgcolor="#ffffff">&nbsp;</td><td align="left" valign="top" bgcolor="#ffffff"><br>
        
<h1>SSL_CONF_cmd(3)</h1>
<!-- INDEX BEGIN -->
<UL>
	<LI><A HREF="SSL_CONF_cmd.html#NAME">NAME</A>
	<LI><A HREF="SSL_CONF_cmd.html#SYNOPSIS">SYNOPSIS</A>
	<LI><A HREF="SSL_CONF_cmd.html#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="SSL_CONF_cmd.html#SUPPORTED_COMMAND_LINE_COMMANDS">SUPPORTED COMMAND LINE COMMANDS</A>
	<LI><A HREF="SSL_CONF_cmd.html#SUPPORTED_CONFIGURATION_FILE_COM">SUPPORTED CONFIGURATION FILE COMMANDS</A>
	<LI><A HREF="SSL_CONF_cmd.html#SUPPORTED_COMMAND_TYPES">SUPPORTED COMMAND TYPES</A>
	<LI><A HREF="SSL_CONF_cmd.html#NOTES">NOTES</A>
	<LI><A HREF="SSL_CONF_cmd.html#EXAMPLES">EXAMPLES</A>
	<LI><A HREF="SSL_CONF_cmd.html#RETURN_VALUES">RETURN VALUES</A>
	<LI><A HREF="SSL_CONF_cmd.html#SEE_ALSO">SEE ALSO</A>
	<LI><A HREF="SSL_CONF_cmd.html#HISTORY">HISTORY</A>
</UL>
<!-- INDEX END -->
<HR>
<P>
<HR>
<H1><A NAME="NAME">NAME</A></H1>
<P>
SSL_CONF_cmd - send configuration command
</P>
<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<PRE> #include &lt;openssl/ssl.h&gt;
</PRE>
<PRE> int SSL_CONF_cmd(SSL_CONF_CTX *cctx, const char *cmd, const char *value);
 int SSL_CONF_cmd_value_type(SSL_CONF_CTX *cctx, const char *cmd);
 int SSL_CONF_finish(SSL_CONF_CTX *cctx);
</PRE>
<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
The function <CODE>SSL_CONF_cmd()</CODE> performs configuration operation <STRONG>cmd</STRONG> with optional parameter <STRONG>value</STRONG> on <STRONG>ctx</STRONG>. Its purpose is to simplify application configuration of <STRONG>SSL_CTX</STRONG> or <STRONG>SSL</STRONG> structures by providing a common framework for command line options or
configuration files.
</P>
<P>
<CODE>SSL_CONF_cmd_value_type()</CODE> returns the type of value that <STRONG>cmd</STRONG> refers to.
</P>
<P>
The function <CODE>SSL_CONF_finish()</CODE> must be called after all
configuration operations have been completed. It is used to finalise any
operations or to process defaults.
</P>
<P>
<HR>
<H1><A NAME="SUPPORTED_COMMAND_LINE_COMMANDS">SUPPORTED COMMAND LINE COMMANDS</A></H1>
<P>
Currently supported <STRONG>cmd</STRONG> names for command lines (i.e. when the flag <STRONG>SSL_CONF_CMDLINE</STRONG> is set) are listed below. Note: all <STRONG>cmd</STRONG> names are case sensitive. Unless otherwise stated commands can be used by
both clients and servers and the <STRONG>value</STRONG> parameter is not used. The default prefix for command line commands is <STRONG>-</STRONG> and that is reflected below.
</P>
<DL>
<DT><STRONG><A NAME="item__sigalgs"><STRONG>-sigalgs</STRONG></A></STRONG><DD>
<P>
This sets the supported signature algorithms for TLS v1.2. For clients this
value is used directly for the supported signature algorithms extension.
For servers it is used to determine which signature algorithms to support.
</P>
<P>
The <STRONG>value</STRONG> argument should be a colon separated list of signature algorithms in order
of decreasing preference of the form <STRONG>algorithm+hash</STRONG>. <STRONG>algorithm</STRONG>
is one of <STRONG>RSA</STRONG>, <STRONG>DSA</STRONG> or <STRONG>ECDSA</STRONG> and <STRONG>hash</STRONG> is a supported algorithm OID short name such as <STRONG>SHA1</STRONG>, <STRONG>SHA224</STRONG>, <STRONG>SHA256</STRONG>, <STRONG>SHA384</STRONG> of <STRONG>SHA512</STRONG>. Note: algorithm and hash names are case sensitive.
</P>
<P>
If this option is not set then all signature algorithms supported by the
OpenSSL library are permissible.
</P>
<DT><STRONG><A NAME="item__client_sigalgs"><STRONG>-client_sigalgs</STRONG></A></STRONG><DD>
<P>
This sets the supported signature algorithms associated with client
authentication for TLS v1.2. For servers the value is used in the supported
signature algorithms field of a certificate request. For clients it is used
to determine which signature algorithm to with the client certificate. If a
server does not request a certificate this option has no effect.
</P>
<P>
The syntax of <STRONG>value</STRONG> is identical to <STRONG>-sigalgs</STRONG>. If not set then the value set for <STRONG>-sigalgs</STRONG> will be used instead.
</P>
<DT><STRONG><A NAME="item__curves"><STRONG>-curves</STRONG></A></STRONG><DD>
<P>
This sets the supported elliptic curves. For clients the curves are sent
using the supported curves extension. For servers it is used to determine
which curve to use. This setting affects curves used for both signatures
and key exchange, if applicable.
</P>
<P>
The <STRONG>value</STRONG> argument is a colon separated list of curves. The curve can be either the <STRONG>NIST</STRONG> name (e.g. <STRONG>P-256</STRONG>) or an OpenSSL OID name (e.g
<STRONG>prime256v1</STRONG>). Curve names are case sensitive.
</P>
<DT><STRONG><A NAME="item__named_curve"><STRONG>-named_curve</STRONG></A></STRONG><DD>
<P>
This sets the temporary curve used for ephemeral ECDH modes. Only used by
servers
</P>
<P>
The <STRONG>value</STRONG> argument is a curve name or the special value <STRONG>auto</STRONG> which picks an appropriate curve based on client and server preferences.
The curve can be either the <STRONG>NIST</STRONG> name (e.g. <STRONG>P-256</STRONG>) or an OpenSSL OID name (e.g <STRONG>prime256v1</STRONG>). Curve names are case sensitive.
</P>
<DT><STRONG><A NAME="item__cipher"><STRONG>-cipher</STRONG></A></STRONG><DD>
<P>
Sets the cipher suite list to <STRONG>value</STRONG>. Note: syntax checking of <STRONG>value</STRONG> is currently not performed unless a <STRONG>SSL</STRONG> or <STRONG>SSL_CTX</STRONG> structure is associated with <STRONG>cctx</STRONG>.
</P>
<DT><STRONG><A NAME="item__cert"><STRONG>-cert</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the certificate for the appropriate context. It currently uses
<CODE>SSL_CTX_use_certificate_chain_file()</CODE> if an <STRONG>SSL_CTX</STRONG>
structure is set or <CODE>SSL_use_certificate_file()</CODE> with filetype
PEM if an <STRONG>SSL</STRONG>
structure is set. This option is only supported if certificate operations
are permitted.
</P>
<DT><STRONG><A NAME="item__key"><STRONG>-key</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the private key for the appropriate context. This option is only
supported if certificate operations are permitted. Note: if no <STRONG>-key</STRONG> option is set then a private key is not loaded: it does not currently use
the <STRONG>-cert</STRONG> file.
</P>
<DT><STRONG><A NAME="item__dhparam"><STRONG>-dhparam</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the set of temporary DH parameters for the appropriate context. This
option is only supported if certificate operations are permitted.
</P>
<DT><STRONG><A NAME="item__no_ssl2_"><STRONG>-no_ssl2</STRONG>, <STRONG>-no_ssl3</STRONG>, <STRONG>-no_tls1</STRONG>, <STRONG>-no_tls1_1</STRONG>, <STRONG>-no_tls1_2</STRONG></A></STRONG><DD>
<P>
Disables protocol support for SSLv2, SSLv3, TLS 1.0, TLS 1.1 or TLS 1.2 by
setting the corresponding options <STRONG>SSL_OP_NO_SSL2</STRONG>, <STRONG>SSL_OP_NO_SSL3</STRONG>,
<STRONG>SSL_OP_NO_TLS1</STRONG>, <STRONG>SSL_OP_NO_TLS1_1</STRONG> and <STRONG>SSL_OP_NO_TLS1_2</STRONG> respectively.
</P>
<DT><STRONG><A NAME="item__bugs"><STRONG>-bugs</STRONG></A></STRONG><DD>
<P>
Various bug workarounds are set, same as setting <STRONG>SSL_OP_ALL</STRONG>.
</P>
<DT><STRONG><A NAME="item__no_comp"><STRONG>-no_comp</STRONG></A></STRONG><DD>
<P>
Disables support for SSL/TLS compression, same as setting <STRONG>SSL_OP_NO_COMPRESS</STRONG>.
</P>
<DT><STRONG><A NAME="item__no_ticket"><STRONG>-no_ticket</STRONG></A></STRONG><DD>
<P>
Disables support for session tickets, same as setting <STRONG>SSL_OP_NO_TICKET</STRONG>.
</P>
<DT><STRONG><A NAME="item__serverpref"><STRONG>-serverpref</STRONG></A></STRONG><DD>
<P>
Use server and not client preference order when determining which cipher
suite, signature algorithm or elliptic curve to use for an incoming
connection. Equivalent to <STRONG>SSL_OP_CIPHER_SERVER_PREFERENCE</STRONG>. Only used by servers.
</P>
<DT><STRONG><A NAME="item__no_resumption_on_reneg"><STRONG>-no_resumption_on_reneg</STRONG></A></STRONG><DD>
<P>
set SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION flag. Only used by
servers.
</P>
<DT><STRONG><A NAME="item__legacyrenegotiation"><STRONG>-legacyrenegotiation</STRONG></A></STRONG><DD>
<P>
permits the use of unsafe legacy renegotiation. Equivalent to setting
<STRONG>SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION</STRONG>.
</P>
<DT><STRONG><A NAME="item__legacy_server_connect_"><STRONG>-legacy_server_connect</STRONG>, <STRONG>-no_legacy_server_connect</STRONG></A></STRONG><DD>
<P>
permits or prohibits the use of unsafe legacy renegotiation for OpenSSL
clients only. Equivalent to setting or clearing <STRONG>SSL_OP_LEGACY_SERVER_CONNECT</STRONG>. Set by default.
</P>
<DT><STRONG><A NAME="item__strict"><STRONG>-strict</STRONG></A></STRONG><DD>
<P>
enables strict mode protocol handling. Equivalent to setting
<STRONG>SSL_CERT_FLAG_TLS_STRICT</STRONG>.
</P>
<DT><STRONG><A NAME="item__debug_broken_protocol"><STRONG>-debug_broken_protocol</STRONG></A></STRONG><DD>
<P>
disables various checks and permits several kinds of broken protocol
behaviour for testing purposes: it should <STRONG>NEVER</STRONG> be used in anything other than a test environment. Only supported if
OpenSSL is configured with
<STRONG>-DOPENSSL_SSL_DEBUG_BROKEN_PROTOCOL</STRONG>.
</P>
</DL>
<P>
<HR>
<H1><A NAME="SUPPORTED_CONFIGURATION_FILE_COM">SUPPORTED CONFIGURATION FILE COMMANDS</A></H1>
<P>
Currently supported <STRONG>cmd</STRONG> names for configuration files (i.e. when the flag <STRONG>SSL_CONF_FLAG_FILE</STRONG> is set) are listed below. All configuration file
<STRONG>cmd</STRONG> names are case insensitive so <STRONG>signaturealgorithms</STRONG> is recognised as well as <STRONG>SignatureAlgorithms</STRONG>. Unless otherwise stated the <STRONG>value</STRONG> names are also case insensitive.
</P>
<P>
Note: the command prefix (if set) alters the recognised <STRONG>cmd</STRONG> values.
</P>
<DL>
<DT><STRONG><A NAME="item_CipherString"><STRONG>CipherString</STRONG></A></STRONG><DD>
<P>
Sets the cipher suite list to <STRONG>value</STRONG>. Note: syntax checking of <STRONG>value</STRONG> is currently not performed unless an <STRONG>SSL</STRONG> or <STRONG>SSL_CTX</STRONG> structure is associated with <STRONG>cctx</STRONG>.
</P>
<DT><STRONG><A NAME="item_Certificate"><STRONG>Certificate</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the certificate for the appropriate context. It currently uses
<CODE>SSL_CTX_use_certificate_chain_file()</CODE> if an <STRONG>SSL_CTX</STRONG>
structure is set or <CODE>SSL_use_certificate_file()</CODE> with filetype
PEM if an <STRONG>SSL</STRONG>
structure is set. This option is only supported if certificate operations
are permitted.
</P>
<DT><STRONG><A NAME="item_PrivateKey"><STRONG>PrivateKey</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the private key for the appropriate context. This option is only
supported if certificate operations are permitted. Note: if no <STRONG>-key</STRONG> option is set then a private key is not loaded: it does not currently use
the <STRONG>Certificate</STRONG> file.
</P>
<DT><STRONG><A NAME="item_ServerInfoFile"><STRONG>ServerInfoFile</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> in the ``serverinfo'' extension using the function
SSL_CTX_use_serverinfo_file.
</P>
<DT><STRONG><A NAME="item_DHParameters"><STRONG>DHParameters</STRONG></A></STRONG><DD>
<P>
Attempts to use the file <STRONG>value</STRONG> as the set of temporary DH parameters for the appropriate context. This
option is only supported if certificate operations are permitted.
</P>
<DT><STRONG><A NAME="item_SignatureAlgorithms"><STRONG>SignatureAlgorithms</STRONG></A></STRONG><DD>
<P>
This sets the supported signature algorithms for TLS v1.2. For clients this
value is used directly for the supported signature algorithms extension.
For servers it is used to determine which signature algorithms to support.
</P>
<P>
The <STRONG>value</STRONG> argument should be a colon separated list of signature algorithms in order
of decreasing preference of the form <STRONG>algorithm+hash</STRONG>. <STRONG>algorithm</STRONG>
is one of <STRONG>RSA</STRONG>, <STRONG>DSA</STRONG> or <STRONG>ECDSA</STRONG> and <STRONG>hash</STRONG> is a supported algorithm OID short name such as <STRONG>SHA1</STRONG>, <STRONG>SHA224</STRONG>, <STRONG>SHA256</STRONG>, <STRONG>SHA384</STRONG> of <STRONG>SHA512</STRONG>. Note: algorithm and hash names are case sensitive.
</P>
<P>
If this option is not set then all signature algorithms supported by the
OpenSSL library are permissible.
</P>
<DT><STRONG><A NAME="item_ClientSignatureAlgorithms"><STRONG>ClientSignatureAlgorithms</STRONG></A></STRONG><DD>
<P>
This sets the supported signature algorithms associated with client
authentication for TLS v1.2. For servers the value is used in the supported
signature algorithms field of a certificate request. For clients it is used
to determine which signature algorithm to with the client certificate.
</P>
<P>
The syntax of <STRONG>value</STRONG> is identical to <STRONG>SignatureAlgorithms</STRONG>. If not set then the value set for <STRONG>SignatureAlgorithms</STRONG> will be used instead.
</P>
<DT><STRONG><A NAME="item_Curves"><STRONG>Curves</STRONG></A></STRONG><DD>
<P>
This sets the supported elliptic curves. For clients the curves are sent
using the supported curves extension. For servers it is used to determine
which curve to use. This setting affects curves used for both signatures
and key exchange, if applicable.
</P>
<P>
The <STRONG>value</STRONG> argument is a colon separated list of curves. The curve can be either the <STRONG>NIST</STRONG> name (e.g. <STRONG>P-256</STRONG>) or an OpenSSL OID name (e.g
<STRONG>prime256v1</STRONG>). Curve names are case sensitive.
</P>
<DT><STRONG><A NAME="item_ECDHParameters"><STRONG>ECDHParameters</STRONG></A></STRONG><DD>
<P>
This sets the temporary curve used for ephemeral ECDH modes. Only used by
servers
</P>
<P>
The <STRONG>value</STRONG> argument is a curve name or the special value <STRONG>Automatic</STRONG> which picks an appropriate curve based on client and server preferences.
The curve can be either the <STRONG>NIST</STRONG> name (e.g. <STRONG>P-256</STRONG>) or an OpenSSL OID name (e.g <STRONG>prime256v1</STRONG>). Curve names are case sensitive.
</P>
<DT><STRONG><A NAME="item_Protocol"><STRONG>Protocol</STRONG></A></STRONG><DD>
<P>
The supported versions of the SSL or TLS protocol.
</P>
<P>
The <STRONG>value</STRONG> argument is a comma separated list of supported protocols to enable or
disable. If an protocol is preceded by <STRONG>-</STRONG> that version is disabled. All versions are enabled by default, though
applications may choose to explicitly disable some. Currently supported
protocol values are <STRONG>SSLv2</STRONG>,
<STRONG>SSLv3</STRONG>, <STRONG>TLSv1</STRONG>, <STRONG>TLSv1.1</STRONG> and <STRONG>TLSv1.2</STRONG>. The special value <STRONG>ALL</STRONG> refers to all supported versions.
</P>
<DT><STRONG><A NAME="item_Options"><STRONG>Options</STRONG></A></STRONG><DD>
<P>
The <STRONG>value</STRONG> argument is a comma separated list of various flags to set. If a flag
string is preceded <STRONG>-</STRONG> it is disabled. See the
<STRONG>SSL_CTX_set_options</STRONG> function for more details of individual options.
</P>
<P>
Each option is listed below. Where an operation is enabled by default the <STRONG>-flag</STRONG> syntax is needed to disable it.
</P>
<P>
<STRONG>SessionTicket</STRONG>: session ticket support, enabled by default. Inverse of
<STRONG>SSL_OP_NO_TICKET</STRONG>: that is <STRONG>-SessionTicket</STRONG> is the same as setting
<STRONG>SSL_OP_NO_TICKET</STRONG>.
</P>
<P>
<STRONG>Compression</STRONG>: SSL/TLS compression support, enabled by default. Inverse of <STRONG>SSL_OP_NO_COMPRESSION</STRONG>.
</P>
<P>
<STRONG>EmptyFragments</STRONG>: use empty fragments as a countermeasure against a SSL 3.0/TLS 1.0
protocol vulnerability affecting CBC ciphers. It is set by default. Inverse
of <STRONG>SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS</STRONG>.
</P>
<P>
<STRONG>Bugs</STRONG>: enable various bug workarounds. Same as <STRONG>SSL_OP_ALL</STRONG>.
</P>
<P>
<STRONG>DHSingle</STRONG>: enable single use DH keys, set by default. Inverse of
<STRONG>SSL_OP_DH_SINGLE</STRONG>. Only used by servers.
</P>
<P>
<STRONG>ECDHSingle</STRONG> enable single use ECDH keys, set by default. Inverse of
<STRONG>SSL_OP_ECDH_SINGLE</STRONG>. Only used by servers.
</P>
<P>
<STRONG>ServerPreference</STRONG> use server and not client preference order when determining which cipher
suite, signature algorithm or elliptic curve to use for an incoming
connection. Equivalent to
<STRONG>SSL_OP_CIPHER_SERVER_PREFERENCE</STRONG>. Only used by servers.
</P>
<P>
<STRONG>NoResumptionOnRenegotiation</STRONG> set
<STRONG>SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION</STRONG> flag. Only used by servers.
</P>
<P>
<STRONG>UnsafeLegacyRenegotiation</STRONG> permits the use of unsafe legacy renegotiation. Equivalent to <STRONG>SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION</STRONG>.
</P>
<P>
<STRONG>UnsafeLegacyServerConnect</STRONG> permits the use of unsafe legacy renegotiation for OpenSSL clients only.
Equivalent to <STRONG>SSL_OP_LEGACY_SERVER_CONNECT</STRONG>. Set by default.
</P>
</DL>
<P>
<HR>
<H1><A NAME="SUPPORTED_COMMAND_TYPES">SUPPORTED COMMAND TYPES</A></H1>
<P>
The function <CODE>SSL_CONF_cmd_value_type()</CODE> currently returns one
of the following types:
</P>
<DL>
<DT><STRONG><A NAME="item_SSL_CONF_TYPE_UNKNOWN"><STRONG>SSL_CONF_TYPE_UNKNOWN</STRONG></A></STRONG><DD>
<P>
The <STRONG>cmd</STRONG> string is unrecognised, this return value can be use to flag syntax errors.
</P>
<DT><STRONG><A NAME="item_SSL_CONF_TYPE_STRING"><STRONG>SSL_CONF_TYPE_STRING</STRONG></A></STRONG><DD>
<P>
The value is a string without any specific structure.
</P>
<DT><STRONG><A NAME="item_SSL_CONF_TYPE_FILE"><STRONG>SSL_CONF_TYPE_FILE</STRONG></A></STRONG><DD>
<P>
The value is a file name.
</P>
<DT><STRONG><A NAME="item_SSL_CONF_TYPE_DIR"><STRONG>SSL_CONF_TYPE_DIR</STRONG></A></STRONG><DD>
<P>
The value is a directory name.
</P>
</DL>
<P>
<HR>
<H1><A NAME="NOTES">NOTES</A></H1>
<P>
The order of operations is significant. This can be used to set either
defaults or values which cannot be overridden. For example if an
application calls:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;Protocol&quot;, &quot;-SSLv2&quot;);
 SSL_CONF_cmd(ctx, userparam, uservalue);
</PRE>
<P>
it will disable SSLv2 support by default but the user can override it. If
however the call sequence is:
</P>
<PRE> SSL_CONF_cmd(ctx, userparam, uservalue);
 SSL_CONF_cmd(ctx, &quot;Protocol&quot;, &quot;-SSLv2&quot;);
</PRE>
<P>
SSLv2 is <STRONG>always</STRONG> disabled and attempt to override this by the user are ignored.
</P>
<P>
By checking the return code of <CODE>SSL_CTX_cmd()</CODE> it is possible to
query if a given <STRONG>cmd</STRONG> is recognised, this is useful is <CODE>SSL_CTX_cmd()</CODE> values are
mixed with additional application specific operations.
</P>
<P>
For example an application might call <CODE>SSL_CTX_cmd()</CODE> and if it
returns -2 (unrecognised command) continue with processing of application
specific commands.
</P>
<P>
Applications can also use <CODE>SSL_CTX_cmd()</CODE> to process command
lines though the utility function <CODE>SSL_CTX_cmd_argv()</CODE> is
normally used instead. One way to do this is to set the prefix to an
appropriate value using <CODE>SSL_CONF_CTX_set1_prefix(),</CODE> pass the
current argument to <STRONG>cmd</STRONG> and the following argument to <STRONG>value</STRONG> (which may be NULL).
</P>
<P>
In this case if the return value is positive then it is used to skip that
number of arguments as they have been processed by
<CODE>SSL_CTX_cmd().</CODE> If -2 is returned then <STRONG>cmd</STRONG> is not recognised and application specific arguments can be checked
instead. If -3 is returned a required argument is missing and an error is
indicated. If 0 is returned some other error occurred and this can be
reported back to the user.
</P>
<P>
The function <CODE>SSL_CONF_cmd_value_type()</CODE> can be used by
applications to check for the existence of a command or to perform
additional syntax checking or translation of the command value. For example
if the return value is <STRONG>SSL_CONF_TYPE_FILE</STRONG> an application could translate a relative pathname to an absolute pathname.
</P>
<P>
<HR>
<H1><A NAME="EXAMPLES">EXAMPLES</A></H1>
<P>
Set supported signature algorithms:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;SignatureAlgorithms&quot;, &quot;ECDSA+SHA256:RSA+SHA256:DSA+SHA256&quot;);
</PRE>
<P>
Enable all protocols except SSLv3 and SSLv2:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;Protocol&quot;, &quot;ALL,-SSLv3,-SSLv2&quot;);
</PRE>
<P>
Only enable TLSv1.2:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;Protocol&quot;, &quot;-ALL,TLSv1.2&quot;);
</PRE>
<P>
Disable TLS session tickets:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;Options&quot;, &quot;-SessionTicket&quot;);
</PRE>
<P>
Set supported curves to P-256, P-384:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;Curves&quot;, &quot;P-256:P-384&quot;);
</PRE>
<P>
Set automatic support for any elliptic curve for key exchange:
</P>
<PRE> SSL_CONF_cmd(ctx, &quot;ECDHParameters&quot;, &quot;Automatic&quot;);
</PRE>
<P>
<HR>
<H1><A NAME="RETURN_VALUES">RETURN VALUES</A></H1>
<P>
<CODE>SSL_CONF_cmd()</CODE> returns 1 if the value of <STRONG>cmd</STRONG> is recognised and <STRONG>value</STRONG> is
<STRONG>NOT</STRONG> used and 2 if both <STRONG>cmd</STRONG> and <STRONG>value</STRONG> are used. In other words it returns the number of arguments processed. This
is useful when processing command lines.
</P>
<P>
A return value of -2 means <STRONG>cmd</STRONG> is not recognised.
</P>
<P>
A return value of -3 means <STRONG>cmd</STRONG> is recognised and the command requires a value but <STRONG>value</STRONG> is NULL.
</P>
<P>
A return code of 0 indicates that both <STRONG>cmd</STRONG> and <STRONG>value</STRONG> are valid but an error occurred attempting to perform the operation: for
example due to an error in the syntax of <STRONG>value</STRONG> in this case the error queue may provide additional information.
</P>
<P>
<CODE>SSL_CONF_finish()</CODE> returns 1 for success and 0 for failure.
</P>
<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
<A HREF="SSL_CONF_CTX_new.html#">SSL_CONF_CTX_new(3)</A>,
<A HREF="SSL_CONF_CTX_set_flags.html#">SSL_CONF_CTX_set_flags(3)</A>,
<A HREF="SSL_CONF_CTX_set1_prefix.html#">SSL_CONF_CTX_set1_prefix(3)</A>,
<A HREF="SSL_CONF_CTX_set_ssl_ctx.html#">SSL_CONF_CTX_set_ssl_ctx(3)</A>,
<A HREF="SSL_CONF_cmd_argv.html#">SSL_CONF_cmd_argv(3)</A>
</P>
<P>
<HR>
<H1><A NAME="HISTORY">HISTORY</A></H1>
<P>
<CODE>SSL_CONF_cmd()</CODE> was first added to OpenSSL 1.0.2
</P>
        </td><td align="right" width="20" bgcolor="#ffffff">&nbsp;&nbsp;&nbsp;</td><td align="right" width="50" bgcolor="#666699">&nbsp;</td></tr>
  <tr><td align="left" valign="top" width="100" bgcolor="#666699">&nbsp;</td><td align="left" width="20"><img src="../../images/page-corner-bl.gif" alt="" width="20" height="20"></td><td align="left" valign="top" bgcolor="#ffffff">&nbsp;</td><td align="right" width="20"><img src="../../images/page-corner-br.gif" alt="" width="20" height="20"></td><td align="right" width="50" bgcolor="#666699">&nbsp;</td></tr>
  <tr><td colspan="5" bgcolor="#666699">&nbsp;</td></tr>
</table>
</body>
</html>

